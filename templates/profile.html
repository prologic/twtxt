{{define "content"}}
  <div class="grid">
    <div>
      <hgroup>
        <h2>{{ .Profile.Username }}&nbsp;(<a href="{{ .Profile.URL }}">{{ .Profile.URL }}</a>)</h2>
        <h3>
          {{ if $.User.Follows .Profile.URL }}
            [<a href="/unfollow?nick={{ .Profile.Username  }}">Unfollow</a>]
          {{ else }}
            [<a href="/follow?nick={{ .Profile.Username  }}&url={{ .Profile.URL }}">Follow</a>]
          {{ end }}
        </h3>
        <footer>
          <ul>
            <li>Has {{ .Profile.Followers | len }} followers</li>
            <li>Following {{ .Profile.Following | len }} feeds </li>
          </ul>
        </footer>
      </hgroup>
    </div>
  </div>
  <div class="grid">
    <div>
      {{ range .Tweets }}
        <article>
          <hgroup>
            <h2>
              {{ if $.User.Is .Tweeter.Nick }}
                <a href="{{ $.User.URL }}">
                  <i class="icss-user"></i>
                  me
                </a>
              {{ else }}
                <a href="{{ .Tweeter.URL }}">
                  {{ if $.IsFeed .Tweeter.URL }}
                    <i class="icss-rss"></i>
                  {{ else }}
                    <i class="icss-user-circle"></i>
                  {{ end }}
                  {{ .Tweeter.Nick }}
                </a>
              {{ end }}
              &nbsp;({{ .Created | Time }})
            </h2>
            <h3>
              {{ if (and $.Authenticated (not ($.User.Is .Tweeter.Nick))) }}
                &nbsp;
                {{ if $.User.Follows .Tweeter.URL }}
                  [<a href="/unfollow?nick={{ .Tweeter.Nick  }}">Unfollow</a>]
                {{ else }}
                  [<a href="/follow?nick={{ .Tweeter.Nick  }}&url={{ .Tweeter.URL }}">Follow</a>]
                {{ end }}
              {{ end }}
            </h3>
          </hgroup>
          <p>{{ .Text | FormatTweet }}</p>
        </article>
      {{ end }}

      {{ if .Pager.HasPages }}
        <nav>
          <ul>
            <li>
              {{ if .Pager.HasPrev }}
                <a href="/?page={{ .Pager.PrevPage }}">Prev</a>
              {{ else }}
                <a href="#" data-tooltip="No previous page">Prev</a>
              {{ end}}
            </li>
          </ul>
          <ul>
            <li><small>Page {{ $.Pager.Page }}/{{ $.Pager.PageNums }} of {{ $.Pager.Nums }} Tweets</small></li>
          </ul>
          <ul>
            <li>
              {{ if .Pager.HasNext }}
                <a href="/?page={{ .Pager.NextPage }}">Next</a>
              {{ else }}
                <a href="#" data-tooltip="No next page">Next</a>
              {{ end}}
            </li>
          </ul>
        </nav>
      {{ end }}
    </div>
  </div>
{{end}}
